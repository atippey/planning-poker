nameOverride: ""
fullnameOverride: ""

replicaCount: 1

redis:
  enabled: true
  image:
    repository: redis
    tag: "7-alpine"
    pullPolicy: IfNotPresent
  service:
    port: 6379
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 50m
      memory: 64Mi

api:
  image:
    repository: planning-poker-api
    tag: latest
    pullPolicy: Always
  replicaCount: 2
  service:
    type: ClusterIP
    port: 8000
  env:
    - name: REDIS_HOST
      value: "planning-poker-redis"
    - name: REDIS_PORT
      value: "6379"
    - name: REDIS_DB
      value: "0"
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 128Mi
  livenessProbe:
    httpGet:
      path: /api/health
      port: 8000
    initialDelaySeconds: 10
    periodSeconds: 10
  readinessProbe:
    httpGet:
      path: /api/health
      port: 8000
    initialDelaySeconds: 5
    periodSeconds: 5

ui:
  image:
    repository: planning-poker-ui
    tag: latest
    pullPolicy: Always
  replicaCount: 2
  service:
    type: ClusterIP
    port: 80
  env:
    - name: REACT_APP_API_BASE_URL
      value: ""
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 50m
      memory: 64Mi

ingress:
  enabled: true
  className: "traefik"
  annotations: {}
    # Add custom annotations here if needed
    # cert-manager.io/cluster-issuer: "letsencrypt-prod"
  hosts:
    - host: localhost
      paths:
        - path: /api
          pathType: Prefix
          service: api
          port: 8000
        - path: /
          pathType: Prefix
          service: ui
          port: 80
  tls: []
    # Example for production with cert-manager:
    # - secretName: planning-poker-tls
    #   hosts:
    #     - poker.example.com
  # CORS configuration
  cors:
    enabled: true
    allowOrigins:
      - "http://localhost:3000"
      - "http://localhost"
    # For production, add your domain:
    # - "https://poker.example.com"
  # Rate limiting (disabled by default for local dev)
  rateLimit:
    enabled: false
    average: 100  # requests per period
    period: "1m"  # 1 minute
    burst: 50     # allow bursts up to this many requests

serviceAccount:
  create: true
  annotations: {}
  name: ""

podAnnotations: {}

podSecurityContext: {}

securityContext: {}

nodeSelector: {}

tolerations: []

affinity: {}
